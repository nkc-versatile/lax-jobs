<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Versatile Consulting | LAX Project Recruitment Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Added Font Awesome for professional icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Custom styling for chart containers to meet strict constraints */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Tailwind max-w-xl equivalent */
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        /* Styling for the new input field */
        #hours-input {
            appearance: none;
            -moz-appearance: textfield; /* Firefox fix for number spinner */
        }
        #hours-input::-webkit-outer-spin-button,
        #hours-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 font-sans antialiased selection:bg-amber-200 selection:text-stone-900">

    <!-- Navigation / Header (Restored Stone/Amber Palette) -->
    <header class="bg-white border-b border-stone-200 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <!-- NEW LOGO SVG (Color adapted to stone/amber theme) -->
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-stone-800">
                    <!-- Bars (Stone-800) -->
                    <rect x="2" y="5" width="20" height="2" fill="currentColor"/>
                    <rect x="2" y="11" width="20" height="2" fill="currentColor"/>
                    <rect x="2" y="17" width="20" height="2" fill="currentColor"/>
                    <!-- Diamond (Amber Accent) -->
                    <path d="M12 2L15 8H9L12 2Z" fill="#FBBF24"/>
                </svg>
                <!-- Restored text color -->
                <span class="font-bold text-xl tracking-tight text-stone-900">Versatile <span class="text-amber-600">Consulting</span></span>
            </div>
            <nav class="hidden md:flex space-x-8">
                <!-- Restored link colors -->
                <a href="#briefing" class="text-stone-600 hover:text-stone-900 font-medium transition">Project Brief</a>
                <a href="#scope" class="text-stone-600 hover:text-stone-900 font-medium transition">Scope</a>
                <a href="#earnings" class="text-stone-600 hover:text-stone-900 font-medium transition">Earnings</a>
            </nav>
            <!-- Restored button color -->
            <a href="#contact" class="bg-stone-900 text-white px-4 py-2 rounded-md font-medium hover:bg-stone-800 transition shadow-sm">
                Contact Now
            </a>
        </div>
    </header>

    <!-- Hero Section (Restored Colors) -->
    <div class="bg-white border-b border-stone-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div>
                <div class="inline-block bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-semibold mb-6">
                    Immediate Opening &bull; Night Shift
                </div>
                <!-- Restored text color -->
                <h1 class="text-4xl md:text-5xl font-extrabold text-stone-900 leading-tight mb-6">
                    Secure Your Spot on the <span class="text-transparent bg-clip-text bg-gradient-to-r from-stone-700 to-stone-500">LAX Terminals 2 & 5</span> Project.
                </h1>
                <p class="text-lg text-stone-600 mb-8 leading-relaxed">
                    We are recruiting 3 senior construction specialists for a high-stakes infrastructure upgrade. Prevailing wage rates apply for this 8-month contract.
                </p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <div class="flex items-center space-x-3 bg-stone-50 px-4 py-3 rounded-lg border border-stone-200">
                        <span class="text-2xl">üí∞</span>
                        <div>
                            <p class="text-xs text-stone-500 uppercase tracking-wide font-bold">Rate</p>
                            <p class="font-bold text-stone-900">$80.00 / Hour</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 bg-stone-50 px-4 py-3 rounded-lg border border-stone-200">
                        <span class="text-2xl">üìÖ</span>
                        <div>
                            <p class="text-xs text-stone-500 uppercase tracking-wide font-bold">Duration</p>
                            <p class="font-bold text-stone-900">Jan '26 - Aug '26</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Qualification Check (Restored Text Color) -->
            <div class="bg-stone-50 p-6 rounded-xl border border-stone-200 shadow-sm relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 text-9xl pointer-events-none text-stone-200">üõ°Ô∏è</div>
                <h3 class="text-xl font-bold mb-4 z-10 relative text-stone-900">Are you qualified?</h3>
                <p class="text-sm text-stone-600 mb-6 z-10 relative">Check the critical requirements below to unlock the application details.</p>
                
                <div class="space-y-3 z-10 relative" id="qual-checklist">
                    <label class="flex items-start space-x-3 cursor-pointer p-2 hover:bg-white rounded transition">
                        <input type="checkbox" class="mt-1 w-5 h-5 text-amber-600 border-stone-300 rounded focus:ring-amber-500 qual-check">
                        <span class="text-stone-700 text-sm">Pass LAX Badging (Background & Fingerprints)</span>
                    </label>
                    <label class="flex items-start space-x-3 cursor-pointer p-2 hover:bg-white rounded transition">
                        <input type="checkbox" class="mt-1 w-5 h-5 text-amber-600 border-stone-300 rounded focus:ring-amber-500 qual-check">
                        <span class="text-stone-700 text-sm">Commercial Construction Experience (Senior Level)</span>
                    </label>
                    <label class="flex items-start space-x-3 cursor-pointer p-2 hover:bg-white rounded transition">
                        <input type="checkbox" class="mt-1 w-5 h-5 text-amber-600 border-stone-300 rounded focus:ring-amber-500 qual-check">
                        <span class="text-stone-700 text-sm">Comfortable with Heights & Scissor Lifts</span>
                    </label>
                </div>

                <div id="qual-status" class="mt-6 p-3 bg-stone-200 text-stone-500 text-center rounded font-medium text-sm transition-colors duration-300">
                    Select all to proceed
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content Grid -->
    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-20">

        <!-- Section 1: Project Scope (Restored Text Color + LLM Features + Redesigned Layout) -->
        <section id="briefing">
            <!-- Header & TTS -->
            <div class="flex flex-col md:flex-row items-start md:items-center justify-between mb-8">
                <div>
                    <h2 class="text-3xl font-bold text-stone-900 mb-2">Project Briefing & Scope</h2>
                    <p class="text-stone-600 max-w-2xl">Overview of ERRCS installation duties and safety requirements.</p>
                </div>
                <!-- Removed TTS button: <button id="tts-play-btn" onclick="generateAndPlayTTS()" ...> -->
            </div>

            <!-- Main Content Area: Single Column for Scope -->
            <div class="flex flex-col gap-8">
                
                <!-- Briefing Text -->
                <div class="prose prose-stone max-w-none">
                    <p id="briefing-text" class="text-stone-600 leading-relaxed text-lg">
                        This section outlines the specific responsibilities for the <strong>Emergency Responder Radio Communication System (ERRCS)</strong> installation. This is a critical infrastructure project ensuring safety communications within the airport terminals. The work environment requires precision, adherence to safety protocols, and the ability to work autonomously during night shifts.
                    </p>
                </div>

                <!-- Scope Cards Grid (Updated Layout & Icons) -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6" id="scope">
                    <!-- Card 1 -->
                    <div class="bg-white p-6 rounded-xl border border-stone-200 shadow-sm hover:shadow-md hover:border-amber-300 transition duration-300 group">
                        <div class="w-12 h-12 bg-amber-50 text-amber-600 rounded-lg flex items-center justify-center text-xl mb-4 group-hover:scale-110 transition">
                            <i class="fa-solid fa-paint-roller"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2 text-stone-900">Drywall & Finish</h3>
                        <p class="text-sm text-stone-500">Precision cutting, patching, and painting to restore surfaces to airport standards after installation.</p>
                    </div>
                    <!-- Card 2 -->
                    <div class="bg-white p-6 rounded-xl border border-stone-200 shadow-sm hover:shadow-md hover:border-stone-400 transition duration-300 group">
                        <div class="w-12 h-12 bg-stone-100 text-stone-600 rounded-lg flex items-center justify-center text-xl mb-4 group-hover:scale-110 transition">
                            <i class="fa-solid fa-hammer"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2 text-stone-900">Concrete Work</h3>
                        <p class="text-sm text-stone-500">Light concrete trenching required for cabling pathways and conduit access points.</p>
                    </div>
                    <!-- Card 3 -->
                    <div class="bg-white p-6 rounded-xl border border-stone-200 shadow-sm hover:shadow-md hover:border-blue-300 transition duration-300 group">
                        <div class="w-12 h-12 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center text-xl mb-4 group-hover:scale-110 transition">
                            <i class="fa-solid fa-elevator"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2 text-stone-900">Heights & Lifts</h3>
                        <p class="text-sm text-stone-500">Operation of scissor lifts to access ceiling plenums (20ft+). Safety certification is a plus.</p>
                    </div>
                    <!-- Card 4 -->
                    <div class="bg-white p-6 rounded-xl border border-stone-200 shadow-sm hover:shadow-md hover:border-purple-300 transition duration-300 group">
                        <div class="w-12 h-12 bg-purple-50 text-purple-600 rounded-lg flex items-center justify-center text-xl mb-4 group-hover:scale-110 transition">
                            <i class="fa-solid fa-id-card"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2 text-stone-900">Security Access</h3>
                        <p class="text-sm text-stone-500">Full LAX SIDA badging required. A clean FBI background check is non-negotiable.</p>
                    </div>
                </div>

                <!-- Removed Safety Assistant section -->

            </div>
        </section>

        <!-- Section 2: Financials (Updated for Text Input) -->
        <section id="earnings" class="bg-white rounded-2xl p-8 border border-stone-200 shadow-sm">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                <div class="lg:col-span-1">
                    <h2 class="text-3xl font-bold text-stone-900 mb-4">Financial Impact</h2>
                    <p class="text-stone-600 mb-6 text-sm">
                        This project pays **2026 Prevailing Wage** at an estimated $80.00/hour. We **guarantee** a minimum of 25 hours per week (5 hours per night). Enter your estimated weekly hours (25-50) below to calculate your total contract value.
                    </p>
                    
                    <div class="bg-stone-50 p-6 rounded-xl border border-stone-200">
                        <label class="block text-xs font-bold uppercase text-stone-500 mb-2" for="hours-input">Estimated Weekly Hours (25-50)</label>
                        
                        <div class="flex items-center space-x-3 mb-6">
                            <input type="number" id="hours-input" min="25" max="50" value="25" 
                                class="w-full p-3 border border-stone-300 rounded-lg text-lg font-bold text-stone-900 focus:ring-emerald-500 focus:border-emerald-500"
                                oninput="updateEarnings()">
                            <span class="font-bold text-stone-600">hrs</span>
                        </div>

                        <div class="space-y-4 pt-4 border-t border-stone-200">
                            <div class="flex justify-between items-center">
                                <span class="text-stone-600 text-sm">Weekly Guaranteed Gross:</span>
                                <span id="weekly-pay" class="font-bold text-stone-900 text-lg">$2,000</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-stone-600 text-sm">Monthly Gross (Est.):</span>
                                <span id="monthly-pay" class="font-bold text-stone-900 text-lg">$8,000</span>
                            </div>
                            <!-- Total Contract Value -->
                            <div class="p-3 bg-emerald-50 border border-emerald-100 rounded-lg flex justify-between items-center mt-2">
                                <span class="text-emerald-800 font-bold text-sm">Total Contract Value (Est.):</span>
                                <span id="total-pay" class="font-bold text-emerald-700 text-xl">$64,000</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-2 flex flex-col justify-center">
                    <div class="mb-4">
                        <h3 class="font-bold text-stone-800">Cumulative Earnings Trajectory</h3>
                        <p class="text-xs text-stone-500">Comparing LAX Prevailing Wage ($80/hr) vs. Standard Commercial Rate (Est. $40/hr)</p>
                    </div>
                    <!-- Chart Container as required -->
                    <div class="chart-container">
                        <canvas id="earningsChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Timeline (Restored Accent Color) -->
        <section id="timeline">
            <h2 class="text-3xl font-bold text-stone-900 mb-4">Project Timeline</h2>
            <p class="text-stone-600 max-w-2xl mb-12">
                Key milestones for the engagement. Badging is the critical first step before mobilization in January.
            </p>

            <div class="relative border-l-4 border-stone-200 ml-4 space-y-12">
                <!-- Item 1 -->
                <div class="relative pl-8">
                    <!-- Restored Accent Color -->
                    <div class="absolute -left-3 top-0 w-6 h-6 bg-stone-900 rounded-full border-4 border-stone-50"></div>
                    <h4 class="font-bold text-lg text-stone-900">Now / Immediate</h4>
                    <p class="text-stone-500 font-medium mb-1">Recruitment & Badging Application</p>
                    <p class="text-sm text-stone-600 max-w-lg">Submit details, initiate background checks, and schedule fingerprinting at LAX Security Badge Office.</p>
                </div>
                <!-- Item 2 -->
                <div class="relative pl-8">
                    <div class="absolute -left-3 top-0 w-6 h-6 bg-amber-500 rounded-full border-4 border-stone-50"></div>
                    <h4 class="font-bold text-lg text-stone-900">January 2026</h4>
                    <p class="text-stone-500 font-medium mb-1">Project Start</p>
                    <p class="text-sm text-stone-600 max-w-lg">Mobilization to Terminals 2 & 5. Night shift orientation and initial trenching/rough-in work begins.</p>
                </div>
                <!-- Item 3 -->
                <div class="relative pl-8">
                    <div class="absolute -left-3 top-0 w-6 h-6 bg-stone-300 rounded-full border-4 border-stone-50"></div>
                    <h4 class="font-bold text-lg text-stone-900">Jan - Aug 2026</h4>
                    <p class="text-stone-500 font-medium mb-1">Installation Phase</p>
                    <p class="text-sm text-stone-600 max-w-lg">Continuous installation of ERRCS components, requiring drywall cutting, patching, painting, and lift work.</p>
                </div>
                <!-- Item 4 -->
                <div class="relative pl-8">
                    <div class="absolute -left-3 top-0 w-6 h-6 bg-stone-300 rounded-full border-4 border-stone-50"></div>
                    <h4 class="font-bold text-lg text-stone-900">August 2026</h4>
                    <p class="text-stone-500 font-medium mb-1">Project Closeout</p>
                    <p class="text-sm text-stone-600 max-w-lg">Final inspections, touch-ups, and demobilization.</p>
                </div>
            </div>
        </section>

        <!-- Footer / Contact (Restored Colors) -->
        <footer id="contact" class="bg-stone-900 text-stone-300 rounded-t-3xl mt-12 py-12 px-8">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-3xl font-bold text-white mb-6">Ready to join the crew?</h2>
                <p class="text-lg mb-8 max-w-2xl mx-auto">
                    We are looking for reliability and skill. If you meet the badging and experience requirements, we want to hear from you immediately.
                </p>
                
                <div class="bg-stone-800 p-8 rounded-xl inline-block text-left w-full max-w-md border border-stone-700">
                    <div class="flex items-center space-x-4 mb-4">
                        <div class="bg-stone-700 p-2 rounded-full text-amber-300"><i class="fa-solid fa-user"></i></div>
                        <div>
                            <p class="text-xs text-stone-400 uppercase">Contact Name</p>
                            <p class="font-bold text-white">Nick Chokshi</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4 mb-4">
                        <div class="bg-stone-700 p-2 rounded-full text-amber-300"><i class="fa-solid fa-building"></i></div>
                        <div>
                            <p class="text-xs text-stone-400 uppercase">Company</p>
                            <p class="font-bold text-white">Versatile Consulting</p>
                        </div>
                    </div>
                    <!-- Updated Contact Field -->
                    <div class="flex items-center space-x-4">
                        <div class="bg-stone-700 p-2 rounded-full text-amber-300"><i class="fa-solid fa-envelope"></i></div>
                        <div>
                            <p class="text-xs text-stone-400 uppercase">Email</p>
                            <p class="font-bold text-white break-all">nick@partnerwithversatile.com</p>
                        </div>
                    </div>
                </div>
                <div class="mt-8 text-sm text-stone-500">
                    &copy; 2025 Versatile Consulting. All Rights Reserved.
                </div>
            </div>
        </footer>

    </main>

    <script>
        // --- LLM API Configuration and Utilities (TTS/Safety Tips Removed) ---
        const apiKey = ""; 
        const TEXT_MODEL_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

        // Declare variables globally (using let) for assignment later in the load function
        let hoursInput, displayWeekly, displayMonthly, displayTotal;
        let earningsChart;

        // Utility for exponential backoff (retry logic)
        async function fetchWithBackoff(url, options, maxRetries = 5) {
            for (let attempt = 0; attempt < maxRetries; attempt++) {
                try {
                    const response = await fetch(url, options);
                    if (response.ok) return response;
                    if (response.status === 429 || response.status >= 500) {
                        if (attempt < maxRetries - 1) {
                            const delay = Math.pow(2, attempt) * 1000 + Math.random() * 1000;
                            await new Promise(resolve => setTimeout(resolve, delay));
                            continue;
                        }
                    }
                    throw new Error(`API request failed with status: ${response.status}`);
                } catch (error) {
                    if (attempt === maxRetries - 1) throw error;
                    const delay = Math.pow(2, attempt) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }
        }
        
        // --- TTS Utility Functions (Removed) ---
        // --- LLM Feature Functions (Removed) ---


        // --- Core Dashboard Logic ---

        // 1. Qualification Checklist Logic
        const checkBoxes = document.querySelectorAll('.qual-check');
        const statusBox = document.getElementById('qual-status');

        function updateChecklistStatus() {
            const allChecked = Array.from(checkBoxes).every(cb => cb.checked);
            if (allChecked) {
                statusBox.textContent = "‚úÖ Qualifications Met. Please Contact Us Below.";
                statusBox.className = "mt-6 p-3 bg-emerald-100 text-emerald-800 border border-emerald-200 text-center rounded font-bold text-sm transition-colors duration-300 shadow-sm";
            } else {
                statusBox.textContent = "Select all critical requirements above to proceed.";
                statusBox.className = "mt-6 p-3 bg-stone-200 text-stone-500 text-center rounded font-medium text-sm transition-colors duration-300";
            }
        }

        checkBoxes.forEach(cb => {
            cb.addEventListener('change', updateChecklistStatus);
        });

        // 2. Earnings Calculator Logic
        const hourlyRate = 80;
        const contractMonths = 8;
        const weeksPerMonth = 4; // Simplified
        const minHours = 25;
        
        // Function to format currency
        const fmtMoney = (num) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(num);

        function updateEarnings() {
            // FIX: Ensure input field is defined and use its value
            if (!hoursInput) return;

            let hours = parseInt(hoursInput.value);
            
            // Input validation and clamping
            if (isNaN(hours) || hours < minHours) {
                hours = minHours;
                hoursInput.value = minHours; // Reset visual to minimum
            } else if (hours > 50) {
                hours = 50;
                hoursInput.value = 50; // Clamp to maximum
            }
            
            const weekly = hours * hourlyRate;
            const monthly = weekly * weeksPerMonth;
            const total = monthly * contractMonths;

            displayWeekly.innerText = fmtMoney(weekly);
            displayMonthly.innerText = fmtMoney(monthly);
            displayTotal.innerText = fmtMoney(total);

            // Update Chart Data Dynamically
            updateChartData(total);
        }

        // 3. Chart.js Implementation
        function initChart() {
            const ctx = document.getElementById('earningsChart').getContext('2d');
            
            // Standard Rate assumption: $40/hr (half of prevailing)
            const standardRate = 40;
            const standardTotal = standardRate * 40 * 4 * 8; // Fixed 40hr week reference

            // FIX: Use the current input value for initialization
            const initialHours = parseInt(hoursInput.value);
            const initialThisJobTotal = hourlyRate * initialHours * 4 * 8; 

            const labels = ['Month 1', 'Month 2', 'Month 3', 'Month 4', 'Month 5', 'Month 6', 'Month 7', 'Month 8'];
            
            // Generate cumulative data points
            const generateData = (total) => {
                const monthly = total / 8;
                let accumulator = 0;
                return labels.map(() => {
                    accumulator += monthly;
                    return accumulator;
                });
            };

            const dataStandard = generateData(standardTotal);
            const dataThisJob = generateData(initialThisJobTotal);

            earningsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'This LAX Project ($80/hr, Min 25h/wk)',
                            data: dataThisJob,
                            borderColor: '#059669', // Emerald 600
                            backgroundColor: 'rgba(5, 150, 105, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.3
                        },
                        {
                            label: 'Standard Commercial Job (~$40/hr)',
                            data: dataStandard,
                            borderColor: '#a8a29e', // Stone 400
                            borderWidth: 2,
                            borderDash: [5, 5],
                            fill: false,
                            tension: 0.3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false, // Critical for container responsiveness
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(context.parsed.y);
                                    }
                                    return label;
                                }
                            }
                        },
                        legend: {
                            position: 'bottom',
                            labels: {
                                usePointStyle: true,
                                padding: 20
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: '#e7e5e4' // Stone 200
                            },
                            ticks: {
                                callback: function(value) {
                                    return '$' + value / 1000 + 'k';
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        function updateChartData(newTotal) {
            if(!earningsChart) return;
            
            // Re-calculate the "This Job" curve based on input
            const monthly = newTotal / 8;
            let accumulator = 0;
            const newData = [];
            for(let i=0; i<8; i++) {
                accumulator += monthly;
                newData.push(accumulator);
            }

            earningsChart.data.datasets[0].data = newData;
            earningsChart.update();
        }

        // --- Initialization (The Fix) ---
        function initializeApp() {
            // FIX: Assign element variables here to ensure the DOM is ready
            hoursInput = document.getElementById('hours-input'); // New ID for text input
            displayWeekly = document.getElementById('weekly-pay');
            displayMonthly = document.getElementById('monthly-pay');
            displayTotal = document.getElementById('total-pay');
            
            // Safety check for the critical element
            if (!hoursInput) {
                console.error("Initialization error: Hours input element not found.");
                return; 
            }
            
            // Set up initial listener using oninput handler (defined in HTML)
            // No need for hoursInput.addEventListener('input', updateEarnings); as it's defined in HTML

            // Run initial states
            updateChecklistStatus(); 
            initChart();
            updateEarnings(); 
        }

        window.addEventListener('load', initializeApp);

    </script>
</body>
</html>
